/**********************************************************************
 require( 'require' )
 -----------------------------------------------------------------------
 @example

 var Path = require("node://path");  // Only in NodeJS/NW.js environment.
 var Button = require("tfw.button");

 **********************************************************************/

window.require = function() {
  var mocks = {};
  var modules = {};
  var definitions = {};
  var nodejs_require = typeof window.require === 'function' ? window.require : null;

  var f = function(id, body) {
    var mock = mocks[id];
    if( mock ) return mock;
    
    if( id.substr( 0, 7 ) == 'node://' ) {
      // Calling for a NodeJS module.
      if( !nodejs_require ) {
        throw Error( "[require] NodeJS is not available to load module `" + id + "`!" );
      }
      return nodejs_require( id.substr( 7 ) );
    }

    if( typeof body === 'function' ) {
      definitions[id] = body;
      return;
    }
    var mod;
    body = definitions[id];
    if (typeof body === 'undefined') {
      var err = new Error("Required module is missing: " + id);
      console.error(err.stack);
      throw err;
    }
    mod = modules[id];
    if (typeof mod === 'undefined') {
      mod = {exports: {}};
      var exports = mod.exports;
      body(f, mod, exports);
      modules[id] = mod.exports;
      mod = mod.exports;
    }
    return mod;
  };

  f.mock = function( moduleName, module ) {
    mocks[moduleName] = module;
  };
  
  return f;
}();
function addListener(e,l) {
    if (window.addEventListener) {
        window.addEventListener(e,l,false);
    } else {
        window.attachEvent('on' + e, l);
    }
};

addListener(
    'DOMContentLoaded',
    function() {
        document.body.parentNode.$data = {};
        // Attach controllers.
        APP = require('main');
setTimeout(function (){if(typeof APP.start==='function')APP.start()});

    }
);
require("$",function(r,n,o){o.config={name:'"hortense-2018"',description:'"Game for Hortense\'s birthday"',author:'"tolokoban"',version:'"0.0.2"',major:"0",minor:"0",revision:"2",date:"2018-09-26T21:01:50.000Z",consts:{}};var t=null;o.lang=function(r){return void 0===r&&(window.localStorage&&(r=window.localStorage.getItem("Language")),r||(r=window.navigator.language)||(r=window.navigator.browserLanguage)||(r="fr"),r=r.substr(0,2).toLowerCase()),t=r,window.localStorage&&window.localStorage.setItem("Language",r),r},o.intl=function(r,n){var t,a,e,i,g,s,u,l=r[o.lang()],c=n[0];for(u in r)break;if(!u)return c;if(!l&&!(l=r[u]))return c;if(t=l[c],t||(l=r[u],t=l[c]),!t)return c;if(n.length>1){for(a="",g=0,e=0;e<t.length;e++)i=t.charAt(e),"$"===i?(a+=t.substring(g,e),e++,s=t.charCodeAt(e)-48,s<0||s>=n.length?a+="$"+t.charAt(e):a+=n[s],g=e+1):"\\"===i&&(a+=t.substring(g,e),e++,a+=t.charAt(e),g=e+1);a+=t.substr(g),t=a}return t}});
//# sourceMappingURL=$.js.map
require("main",function(n,e,o){function t(){var n=new w;f.add(document.body,n),d=n,l(n).on("challenge",function(n){switch(n){case"anagram":return a();case"twister":return i();case"paper":return r()}})}function a(){var n=new g;n.start=1,c(n)}function i(){c(new v)}function r(){c(new h)}function c(n){f.addClass(n,"hide"),f.add(document.body,n),window.setTimeout(function(){f.removeClass(n,"hide"),window.setTimeout(function(){f.addClass(n,"show")})}),s=n;var e=function(){f.removeClass(n,"show"),window.setTimeout(function(){f.addClass(n,"hide")}),window.setTimeout(function(){f.detach(n)},1e3),s=d};l(n).on("success",function(){m.play("success"),d.forward=!0,e()}),l(n).on("failure",function(){m.play("failure"),d.forward=!1,e()})}var u=function(){function e(){return t(o,arguments)}var o={en:{welcome:"Welcome in the world of"},fr:{welcome:"Bienvenue dans le monde de"}},t=n("$").intl;return e.all=o,e}();n("font.josefin");var d,s,f=n("dom"),l=n("tfw.binding.property-manager"),w=n("challenge.main"),m=n("sound"),h=n("challenge.paper"),v=n("challenge.twister"),g=n("challenge.anagram");o.start=function(){t(),s=d,document.addEventListener("keydown",function(n){s.keydown(n.key)})},e.exports._=u});
//# sourceMappingURL=main.js.map
require("challenge.anagram",function(t,n,o){function e(){var t=Math.floor(Math.random()*this.words.length),n=this.words[t].toUpperCase(),o=i(r(n));this.letters=o,this.solution=n,this.proposition="---",this.proposition=""}function r(t){for(var n=[],o=0;o<t.length;o++)n.push(t.charAt(o).toUpperCase());return n}function i(t){var n,o,e;for(n=0;n<t.length;n++)e=t[n],o=Math.floor(Math.random()*t.length),t[n]=t[o],t[o]=e;return t}function a(t){return m.div([t])}function s(t){var n=t.toUpperCase();return"BACKSPACE"===n?h.call(this):-1===this.letters.indexOf(n)?f.play("error"):this.proposition.length>=this.solution.length?f.play("error"):(this.proposition+=n,void(this.proposition===this.solution&&(this.success=1)))}function h(){this.proposition.length>this.hint?this.proposition=this.proposition.substr(0,this.proposition.length-1):f.play("error")}function c(t){var n,o,e=[];for(n=0;n<t.length;n++)o=t.charAt(n),n<this.hint?e.push(m.div("hint",[o])):e.push(m.div([o]));for(n=t.length;n<this.solution.length;n++)e.push(m.div("dash",["-"]));return e}function l(t){if(0===t)return void(this.failure=1);var n=this.solution.length;n<5||(60===t?this.hint=1:40===t&&n>5?this.hint=2:20===t&&n>7&&(this.hint=3))}function u(){this.proposition=this.solution.substr(0,this.hint)+this.proposition.substr(this.hint)}var p=function(){function n(){return e(o,arguments)}var o={en:{},fr:{}},e=t("$").intl;return n.all=o,n}(),d={onStart:e,onMap:a,keydown:s,completeWithDashes:c,onTimer:l,onHint:u},m=t("dom"),f=t("sound");try{n.exports=function(){function n(t,n,o){return void 0===t[n]?o:t[n]}var o=t("dom"),e=t("tfw.binding.property-manager"),r=t("tfw.view").Tag,i=t("tfw.binding.link"),a=t("tfw.view"),s=t("tfw.binding.converters"),h=t("hortense.chrono");a.ensureCodeBehind(d,"onHint","onTimer","onStart","keydown","onMap","completeWithDashes");var c=s.get("array"),l=s.get("string"),u=s.get("integer"),p=function(t){try{void 0===t&&(t={}),this.$elements={};var a=this,s=e(this);s.create("words",{cast:c}),s.create("letters",{cast:c}),s.create("solution",{cast:l}),s.create("proposition",{cast:l}),s.create("hint",{cast:u(0)}),s.create("timer",{cast:u(0)}),s.createAction("start"),s.createAction("success"),s.createAction("failure");var p=new r("DIV",["class"]),m=new h({initialTime:120}),f=new r("DIV",["class"]),g=new r("DIV",["class"]);o.add(p,m,f,g),Object.defineProperty(this,"$",{value:p.$,writable:!1,enumerable:!1,configurable:!1}),new i({A:{obj:a,name:"start"},B:{obj:m,name:"start"},name:"start > e_0/start"}),new i({A:{obj:a,name:"timer"},B:{obj:m,name:"value"},name:"timer > e_0/value"}),new i({A:{obj:a,name:"letters"},B:{action:function(t){o.clear(f),Array.isArray(t)||(t=[t]),t.forEach(function(t){o.add(f,t)})},map:function(){return d.onMap.apply(a,arguments)}},name:"letters > undefined"}),new i({A:{obj:a,name:"proposition"},B:{action:function(t){o.clear(g),Array.isArray(t)||(t=[t]),t.forEach(function(t){o.add(g,t)})},converter:d.completeWithDashes.bind(this)},name:"proposition > undefined"}),s.on("hint",function(t){try{d.onHint.call(a,t)}catch(t){console.error('Exception in function behind "onHint" of module "mod/challenge.anagram.js" for attribute "hint"!  '),console.error(t)}}),s.on("timer",function(t){try{d.onTimer.call(a,t)}catch(t){console.error('Exception in function behind "onTimer" of module "mod/challenge.anagram.js" for attribute "timer"!  '),console.error(t)}}),s.on("start",function(t){try{d.onStart.call(a,t)}catch(t){console.error('Exception in function behind "onStart" of module "mod/challenge.anagram.js" for attribute "start"!  '),console.error(t)}}),p.class="challenge-anagram background",f.class="letters shadowFFF",g.class="proposition shadowFFF",this.words=n(t,"words",["pomme","chien","chat","renard","truite","poisson","hortense","anniversaire","septembre","college","histoire","cartable","manger","boire","banane","abricot","poire","limace","escargot","elephant","bonbon","nuit","jour","bateau","avion","fille","animal","meteo","terre","pluie","poussiere","meteorite","explosion"]),this.letters=n(t,"letters",[]),this.solution=n(t,"solution",""),this.proposition=n(t,"proposition",""),this.hint=n(t,"hint",0),this.timer=t.timer,o.addClass(this,"view","custom")}catch(t){throw console.error("mod/challenge.anagram.js",t),Error('Instantiation error in XJS of "mod/challenge.anagram.js":\n'+t)}};return p.prototype.keydown=d.keydown,p}()}catch(t){throw Error('Definition error in XJS of "mod/challenge.anagram.js"\n'+t)}n.exports._=p});
//# sourceMappingURL=challenge.anagram.js.map
require("hortense.chrono",function(t,e,n){function r(){var t=this;this._interval&&window.clearTimeout(this._interval),this.value=this.initialTime,this._startTime=Date.now(),this._interval=window.setInterval(function(){var e=Date.now(),n=.001*(e-t._startTime),r=Math.max(0,t.initialTime-n);t.value=r},200)}function o(t){return Math.floor(t/60)}function i(t){for(var e=""+t%60;e.length<2;)e="0"+e;return e}var a=function(){function e(){return r(n,arguments)}var n={en:{},fr:{}},r=t("$").intl;return e.all=n,e}(),s={onStart:r,minutes:o,seconds:i};try{e.exports=function(){function e(t,e,n){return void 0===t[e]?n:t[e]}var n=t("dom"),r=t("tfw.binding.property-manager"),o=t("tfw.view").Tag,i=t("tfw.binding.link"),a=t("tfw.view"),c=t("tfw.binding.converters");a.ensureCodeBehind(s,"onStart","minutes","seconds");var l=c.get("integer");return function(t){try{void 0===t&&(t={}),this.$elements={};var a=this,c=r(this);c.create("initialTime",{cast:l(0)}),c.create("value",{cast:l(0)}),c.createAction("start");var h=new o("DIV",["class"]),u=new o("DIV",["textcontent"]),v=new o("DIV");n.add(v,":");var m=new o("DIV",["textcontent"]);n.add(h,u,v,m),Object.defineProperty(this,"$",{value:h.$,writable:!1,enumerable:!1,configurable:!1}),new i({A:{obj:a,name:"value"},B:{obj:u,name:"textcontent",converter:s.minutes.bind(this)},name:"value > e_0/textcontent"}),new i({A:{obj:a,name:"value"},B:{obj:m,name:"textcontent",converter:s.seconds.bind(this)},name:"value > e_2/textcontent"}),c.on("start",function(t){try{s.onStart.call(a,t)}catch(t){console.error('Exception in function behind "onStart" of module "mod/hortense.chrono.js" for attribute "start"!  '),console.error(t)}}),h.class="hortense-chrono thm-ele12",this.initialTime=e(t,"initialTime",180),this.value=e(t,"value",0),n.addClass(this,"view","custom")}catch(t){throw console.error("mod/hortense.chrono.js",t),Error('Instantiation error in XJS of "mod/hortense.chrono.js":\n'+t)}}}()}catch(t){throw Error('Definition error in XJS of "mod/hortense.chrono.js"\n'+t)}e.exports._=a});
//# sourceMappingURL=hortense.chrono.js.map
require("tfw.binding.converters",function(r,n,t){function e(r){if("number"==typeof r)return r+"px";if("string"!=typeof r)return"0";if("auto"===(r=(""+r).trim().toLowerCase())||"inherit"===r)return r;var n=M.exec(r);if(!n)return"0";var t=parseFloat(n[1]);if(isNaN(t)||0==t)return"0";var e=n[2];return e.length<1&&(e="px"),t+e}function i(r){switch(typeof r){case"string":if(0===r.trim().length)return S;var n=new RegExp(r);return function(r){return n.test(r)};case"function":return function(n){return s(r(n))}}return S}function u(r){return Array.isArray(r)?r.map(e):[]}function o(r){switch(typeof r){case"string":return"true"===r.trim().toLowerCase();case"number":return 0!==r;default:return!!r}}function f(r){if(!r)return[];var n=[];for(var t in r)n.push(t);return n}function a(r){return f(r).sort()}function s(r){return Array.isArray(r)?r.map(o):[]}function c(r){return"string"!=typeof r?"#000":k.instance.parse(r)?k.instance.stringify():"#000"}function l(r){return!o(r)}function y(r){return j.isList(r)?r.slice():Array.isArray(r)?r:[r]}function p(r){return r&&"number"==typeof r.length?r.length:0}function g(r){return!r||("string"==typeof r?0===r.trim().length:"number"==typeof r.length&&0===r.length)}function v(r){return!g(r)}function m(r){return Array.isArray(r)?r.map(function(r){return""+r}):[]}function h(r){return null===r||void 0===r?"":"object"==typeof r?Array.isArray(r)?JSON.stringify(r):d(r):""+r}function A(r){if(!Array.isArray(r)&&"object"!=typeof r){var n={};return n[F.lang()]=""+r,n}return r}function d(r){if("string"==typeof r)return r;if(void 0===r)return"";if(null===r)return"";var n=r[F.lang()];if(!n)for(var t in r){n=r[t];break}return"string"!=typeof n?"":n}function b(r){return j.isList(r)?r:new j(y(r))}function w(r){return"number"==typeof r?function(n){var t=parseInt(n);return isNaN(t)?r:t}:parseInt}function x(r){return"number"==typeof r?function(n){var t=parseFloat(n);return isNaN(t)?r:t}:parseFloat}function N(r){r=y(r);var n=r.map(function(r){return r.toLowerCase()});return function(t){var e=Math.max(0,n.indexOf((""+t).toLowerCase()));return r[e]}}function O(r){return r instanceof Date?r:"number"==typeof r?L(r):"string"==typeof r?C(r):null}function L(r){return new Date(r)}function C(r){for(var n=0,t=0,e=0,i=0,u=0,o=r.length,f=0;u<o&&-1===$.indexOf(r.charAt(u));)u++;for(f=0;u<o&&f<2&&-1!==(i=$.indexOf(r.charAt(u)));)n=10*n+i,u++,f++;for(;u<o&&-1===$.indexOf(r.charAt(u));)u++;for(f=0;u<o&&f<2&&-1!==(i=$.indexOf(r.charAt(u)));)t=10*t+i,f++,u++;for(;u<o&&-1===$.indexOf(r.charAt(u));)u++;for(f=0;u<o&&f<2&&-1!==(i=$.indexOf(r.charAt(u)));)e=10*e+i,u++,f++;var a=new Date(0);return a.setHours(n),a.setMinutes(t),a.setSeconds(e),a}function D(r){if(r instanceof Date)return r}var E=function(){function n(){return e(t,arguments)}var t={en:{},fr:{}},e=r("$").intl;return n.all=t,n}(),F=r("$"),j=r("tfw.binding.list"),k=r("tfw.color"),I={array:y,boolean:o,booleans:s,color:c,date:D,enum:N,float:x,integer:w,intl:d,isEmpty:g,isNotEmpty:v,keys:f,length:p,list:b,multilang:A,not:l,sortedKeys:a,string:h,strings:m,time:O,unit:e,units:u,validator:i};t.get=function(r){return I[r]},t.set=function(r,n){"function"==typeof n?I[r]=n:delete I[r]};var M=/^(-?[.0-9]+)[ \n\r]*([a-z%]*)/,S=function(){return!0},$="0123456789";n.exports._=E});
//# sourceMappingURL=tfw.binding.converters.js.map
require("tfw.color",function(t,s,r){function n(t){this.R=0,this.G=0,this.B=0,this.A=0,this.H=0,this.S=0,this.L=0,"string"==typeof t&&this.parse(t)}function i(){var t=this.R,s=this.G,r=this.B,n=Math.min(t,s,r),i=Math.max(t,s,r),e=i-n;this.L=.5*(i+n),e<1e-6?(this.H=0,this.S=0):(this.S=e/(1-Math.abs(2*this.L-1)),this.H=i===t?s>=r?w*((s-r)/e):1-w*((r-s)/e):i===s?w*(2+(r-t)/e):w*(4+(t-s)/e))}function e(){var t,s,r,n=6*this.H,i=this.S,e=this.L,a=(1-Math.abs(2*e-1))*i,h=a*(1-Math.abs(n%2-1));n<3?n<1?(t=a,s=h,r=0):n<2?(t=h,s=a,r=0):(t=0,s=a,r=h):n<4?(t=0,s=h,r=a):n<5?(t=h,s=0,r=a):(t=a,s=0,r=h);var u=e-.5*a;this.R=t+u,this.G=s+u,this.B=r+u}function a(){return.2126*this.R+.7152*this.G+.0722*this.B}function h(){var t="#"+I(255*this.R)+I(255*this.G)+I(255*this.B);return this.A<1&&(t+=I(255*this.A)),t}function u(t){"string"!=typeof t&&(t="#000000");var s=t.trim().toUpperCase();return!!p.call(this,s)||(!!c.call(this,s)||(!!o.call(this,s)||!!f.call(this,s)))}function p(t){if("#"!==t.charAt(0))return!1;var s=0,r=0,n=0,i=1;switch(t.length){case 4:s=parseInt(t.charAt(1),16)*S,r=parseInt(t.charAt(2),16)*S,n=parseInt(t.charAt(3),16)*S;break;case 5:s=parseInt(t.charAt(1),16)*S,r=parseInt(t.charAt(2),16)*S,n=parseInt(t.charAt(3),16)*S,i=parseInt(t.charAt(4),16)*S;break;case 7:s=parseInt(t.substr(1,2),16)*L,r=parseInt(t.substr(3,2),16)*L,n=parseInt(t.substr(5,2),16)*L;break;case 9:s=parseInt(t.substr(1,2),16)*L,r=parseInt(t.substr(3,2),16)*L,n=parseInt(t.substr(5,2),16)*L,i=parseInt(t.substr(7,2),16)*L}return isNaN(s)||isNaN(r)||isNaN(n)||isNaN(i)?this.R=this.G=this.B=this.A=0:(this.R=s,this.G=r,this.B=n,this.A=i),!0}function c(t){var s=m.exec(t);return!!s&&(this.R=B(parseInt(s[1])*L),this.G=B(parseInt(s[2])*L),this.B=B(parseInt(s[3])*L),this.A=1,!0)}function o(t){var s=x.exec(t);return!!s&&(this.R=B(parseInt(s[1])*L),this.G=B(parseInt(s[2])*L),this.B=B(parseInt(s[3])*L),this.A=B(parseFloat(s[4])),!0)}function f(t){var s=M.exec(t);return!!s&&(this.H=B(parseInt(s[1])*N),this.S=B(parseInt(s[2])*H),this.L=B(parseInt(s[3])*H),this.A=1,this.hsl2rgb(),!0)}function I(t){var s=Math.floor(t).toString(16);return s.length<2&&(s="0"+s),s}function l(){var t=new y;return t.R=this.R,t.G=this.G,t.B=this.B,t.A=this.A,t.H=this.H,t.S=this.S,t.L=this.L,t}function A(t,s,r){var n=new y;return n.R=t,n.G=t,n.B=t,n}function v(t,s,r,n){var i=new y;return i.R=t,i.G=t,i.B=t,i.A=t,i}function B(t){return t<0?0:t>1?1:t}function G(t){var s=new y;return s.parse(t),s}function R(t){return G(t).luminance()}var b=function(){function s(){return n(r,arguments)}var r={en:{},fr:{}},n=t("$").intl;return s.all=r,s}(),y=n;y.prototype.luminance=a,y.prototype.stringify=h,y.prototype.parse=u,y.prototype.copy=l,y.prototype.hsl2rgb=e,y.prototype.rgb2hsl=i;var g=new y;y.instance=g,y.parse=G,y.luminance=R,y.newRGB=A,y.newRGBA=v;var w=1/6,S=1/15,H=1/99,L=1/255,N=1/359,m=/^RGB[\s\(]+([0-9]+)[^0-9]+([0-9]+)[^0-9]+([0-9]+)/,x=/^RGBA[\s\(]+([0-9]+)[^0-9]+([0-9]+)[^0-9]+([0-9]+)[^0-9\.]+([0-9\.]+)/,M=/^HSL[\s\(]+([0-9]+)[^0-9]+([0-9]+)[^0-9]+([0-9]+)/;s.exports=y,s.exports._=b});
//# sourceMappingURL=tfw.color.js.map
require("tfw.binding.list",function(r,t,e){function i(r,t){if(r.length<2)return!0;for(var e,i=r[0],n=1;n<r.length;n++){if(e=r[n],t(i,e)>0)return!1;i=e}return!0}function n(r){return!!r&&"number"==typeof r[u]}function o(r,t,e){Object.defineProperty(r,t,{value:e,writable:!1,configurable:!1,enumerable:!0})}var s=function(){function t(){return i(e,arguments)}var e={en:{},fr:{}},i=r("$").intl;return t.all=e,t}(),a=r("tfw.binding.property-manager"),f=r("tfw.listeners"),u="__tfw.binding.list__",h=1,p=function(r){o(this,u,h++),o(this,"_listeners",new f),o(this,"_links",[]),o(this,"isContentChangeAware",!0),Array.isArray(r)?o(this,"_array",r):n(r)?(o(this,"_array",r._array),this.link(r)):o(this,"_array",[r])};t.exports=p,p.isList=n,p.prototype.fire=function(r,t,e){var i=this[u];Array.isArray(e)?-1===e.indexOf(i)&&e.push(i):e=[i],this._listeners.fire(r,t,e),this._links.forEach(function(i){e.indexOf(i[u])>-1||i.fire(r,t,e)});var n=a.getProperties(this);Array.isArray(n)&&n.forEach(function(r){r.manager.fire(r.name)})},p.prototype.addListener=function(r){this._listeners.add(r)},p.prototype.removeListener=function(r){this._listeners.remove(r)},p.prototype.link=function(r){if(!n(r))throw console.error("Argument: ",r),Error("[tfw.binding.list.link] Argument must be a tfw.binding.list object!");-1===this._links.indexOf(r)&&(this._links.push(r),r.link(this))},p.prototype.unlink=function(r){var t=this._links.indexOf(r);-1!==t&&(this._links.splice(t,1),r.unlink(this))},p.prototype.get=function(r){return this._array[r]},p.prototype.put=function(r,t){var e=this._array[r];return e!==t&&(this._array[r]=t,this.fire("put",{index:r,oldValue:e,newValue:t}),!0)},p.prototype.remove=function(r){var t=this._array.indexOf(r);return-1!==t&&(this._array.splice(t,1),this.fire("remove",{elem:r,index:t}),!0)},p.prototype.removeAt=function(r){var t=this._array[r];return this._array.splice(r,1),this.fire("remove",{elem:t,index:r}),!0},p.prototype.mapInPlace=function(r){var t=this;return this._Array.forEach(function(e,i){var n=r(e);t.put(i,n)}),this};var l=function(r,t){return r==t?0:r<t?-1:1};p.prototype.sort=function(r){return"function"!=typeof r&&(r=l),i(this._array,r)?this:(this._array.sort(r),this.fire("sort",r),this)},["push","pop","shift","unshift","splice","reverse"].forEach(function(r){p.prototype[r]=function(){var t=Array.prototype.slice.call(arguments),e=Array.prototype[r].apply(this._array,t);return this.fire(r,t),e}}),["slice","forEach","filter","map","reduce","indexOf","lastIndexOf"].forEach(function(r){p.prototype[r]=function(){var t=Array.prototype.slice.call(arguments);return Array.prototype[r].apply(this._array,t)}}),Object.defineProperty(p.prototype,"length",{get:function(){return this._array.length},set:function(r){this._array.length=r,this.fire("length",r)},configurable:!1,enumerable:!0}),t.exports._=s});
//# sourceMappingURL=tfw.binding.list.js.map
require("tfw.listeners",function(t,r,i){var n=function(){function r(){return n(i,arguments)}var i={en:{}},n=t("$").intl;return r.all=i,r}(),e=function(){this._list=[]};e.prototype.add=function(t,r){if("function"!=typeof t)return!1;this.remove(t);for(var i=0;i<this._list.length;i++)if(t===this._list[i])return!1;return this._list.push([t,r]),!0},e.prototype.remove=function(t,r){if("function"!=typeof t)return!1;for(var i=0;i<this._list.length;i++){var n=this._list[i];if(t===n[0]&&r===n[1])return this._list.splice(i,1),!0}return!1},e.prototype.clear=function(){this._list=[]},e.prototype.fire=function(){var t,r,i,n,e=Array.prototype.slice.call(arguments);for(t=0;t<this._list.length;t++)if(n=this._list[t],r=n[0],i=n[1],!1===r.apply(i,e))return!1;return!0},r.exports=e,r.exports._=n});
//# sourceMappingURL=tfw.listeners.js.map
require("tfw.binding.property-manager",function(t,e,r){function n(t){Object.defineProperty(this,"id",{value:g++,writable:!1,configurable:!1,enumerable:!0}),this.name=this.id,this._props={},this._container=t}function i(t,e){var r=this,n={value:void 0,event:new d,filter:v(e.filter),converter:v(e.converter),delay:p(e.delay),action:null,alwaysFired:!!e.alwaysFired,manager:this,name:t,timeout:0};return n.get=o(n,e),n.set=a(n,e,r,t),this._props[t]=n,void 0!==e.init&&n.set(e.init),Object.defineProperty(this._container,t,{get:n.get.bind(n),set:r.change.bind(r,t),enumerable:!0,configurable:!1}),n}function o(t,e){return"function"==typeof e.get?function(r){var n=e.get(r);return u(t,n),n}:function(e){return t.value}}function a(t,e,r,n){return"function"==typeof e.cast?"function"==typeof e.set?function(n){f(t,t.get());var i=e.cast(n,r);u(t,t.value),e.set(i)}:function(n){f(t,t.get()),t.value=e.cast(n,r),u(t,t.value)}:"function"==typeof e.set?e.set:function(e){f(t,t.get()),t.value=e,u(t,t.value)}}function u(t,e){if(void 0!==e&&null!==e&&!0===e.isContentChangeAware){var r=e[m];Array.isArray(r)?-1===r.indexOf(t)&&r.push(t):r=[t],e[m]=r}}function f(t,e){if(void 0!==e&&null!==e&&!0===e.isContentChangeAware){var r=e[m];if(Array.isArray(r)){var n=r.indexOf(t);-1!==n&&r.splice(n,1)}}}function c(t,e){t.delay?(clearTimeout(t.timeout),t.timeout=setTimeout(e,t.delay)):e()}function s(t,e){throw e=void 0===e?"":"::"+e,Error("[tfw.binding.property-manager"+e+"] "+t)}function p(t){return"number"!=typeof t?0:isNaN(t)?0:Math.max(0,Math.floor(t))}function v(t){if("function"==typeof t)return t}function y(t,e){return t!==e}var l=function(){function e(){return n(r,arguments)}var r={en:{},fr:{}},n=t("$").intl;return e.all=r,e}(),d=t("tfw.event"),g=0,h="__tfw.property-manager__",m="__tfw.binding.property-manager__";n.prototype.set=function(t,e){this.create(t).set(e)},n.prototype.get=function(t){return this.create(t).get()},n.prototype.propertyId=function(t){return this.create(t).id},n.prototype.fire=function(t,e){var r=this.create(t);r.event.fire(r.get(),t,this._container,e)},n.prototype.change=function(t,e,r){void 0===r&&(r=[]);var n=this.create(t),i=n.converter;"function"==typeof i&&(e=i(e));var o=n.get();if(n.alwaysFired||y(e,o)){n.set(e);var a=this;c(n,function(){a.fire(t,r)})}},n.prototype.converter=function(t,e){var r=this.create(t);if("function"==typeof e)r.converter=e;else if(void 0!==e)throw Error("[tfw.binding.property-manager::converter] `converter` must be of type function or undefined!");return r.converter},n.prototype.delay=function(t,e){var r=this.create(t);if(e=parseFloat(e),isNaN(e))return r.delay;r.delay=e},n.prototype.on=function(t,e){this.create(t).event.add(e)},n.prototype.off=function(t,e){this.create(t).event.remove(e)},e.exports=function(t){void 0===t&&s("Argument `container` is mandatory!");var e=t[h];return e||(e=new n(t),t[h]=e),e},e.exports.isLinkable=function(t,e){return void 0!==t[h]&&("string"!=typeof e||void 0!==t[h]._props[e])},e.exports.getAllAttributesNames=function(t){return void 0===t[h]?[]:Object.keys(t[h]._props)},e.exports.getProperties=function(t){var e=t[m];return Array.isArray(e)?e:null},n.prototype.create=function(t,e){"string"!=typeof t&&s("propertyName must be a string!");var r=this._props[t];return r||(void 0===e&&(e={}),r=i.call(this,t,e)),r},n.prototype.createAction=function(t,e){return void 0===e&&(e={}),e.alwaysFired=!0,this.create(t,e)},e.exports._=l});
//# sourceMappingURL=tfw.binding.property-manager.js.map
require("tfw.event",function(t,r,i){var n=function(){function r(){return n(i,arguments)}var i={en:{},fr:{}},n=t("$").intl;return r.all=i,r}(),e=function(){this._list=[]};e.prototype.add=function(t){if("function"!=typeof t)return!1;this.remove(t);for(var r=0;r<this._list.length;r++)if(t===this._list)return!1;return this._list.push(t),!0},e.prototype.remove=function(t){if("function"!=typeof t)return!1;for(var r=0;r<this._list.length;r++){if(t===this._list)return this._list.splice(r,1),!0}return!1},e.prototype.clear=function(){this._list=[]},e.prototype.fire=function(){var t,r,i=Array.prototype.slice.call(arguments);for(t=0;t<this._list.length;t++)if(r=this._list[t],!1===r.apply(r,i))return!1;return!0},r.exports=e,r.exports._=n});
//# sourceMappingURL=tfw.event.js.map
require("tfw.view",function(t,e,n){function a(t,e){t=t.trim().toLowerCase();var n="svg"===t?y.svgRoot():r(t);if(Object.defineProperty(this,"$",{value:n,writable:!1,enumerable:!0,configurable:!1}),Array.isArray(e)){var a=this;e.forEach(function(t){switch(t.toLowerCase()){case"value":i.call(a,n);break;case"focus":o.call(a,n);break;case"textcontent":s.call(a,n);break;case"innerhtml":c.call(a,n);break;default:f.call(a,n,t)}})}}function r(t){return-1!==E.indexOf(t.toLowerCase())?y.svg(t):y.tag(t)}function i(t){var e=this,n=null;m(this).create("value",{get:function(){return n},set:function(e){t.value=e,n=e}}),t.addEventListener("input",function(t){m(e).change("value",t.target.value)},!1)}function o(t){var e=this;m(this).create("focus",{cast:C.get("boolean")(),delay:1}),m(this).on("focus",function(e){e?t.focus():t.blur()}),t.addEventListener("focus",function(){e.focus=!0},!1),t.addEventListener("blur",function(){e.focus=!1},!1)}function s(t){["textContent","textcontent"].forEach(function(e){m(this).create(e,{get:function(){return t.textContent},set:function(e){"string"!=typeof e&&(e=""+e),"<html>"===e.substr(0,6)?t.innerHTML=e.substr(6):t.textContent=e}})},this)}function c(t){["innerHTML","innerhtml"].forEach(function(e){m(this).create(e,{get:function(){return t.innerHTML},set:function(e){t.innerHTML=e}})},this)}function f(t,e){m(this).create(e,{get:function(){return t.getAttribute(e)},set:function(n){t.setAttribute(e,n)}})}function u(t){if(void 0===t)throw"Missing mandatory global variable CODE_BEHIND!";var e,n;for(e=1;e<arguments.length;e++)if(n=arguments[e],"function"!=typeof t[n])throw"Expected CODE_BEHIND."+n+" to be a function!"}function l(t,e){var n=y(t),a={},r=0;if(Object.keys(e).forEach(function(t){t=t.toLowerCase();var i=e[t];A.indexOf(t)>-1?(a[t]=i,r=!0):n.addEventListener(t,i,!1)}),r){var i=new w(n);Object.keys(a).forEach(function(t){var n=e[t];i.on(t,n)})}}function d(t,e,n){var a,r;for(a in n)r=n[a],void 0===e[a]?t[a]=r:t[a]=e[a]}function p(t,e,n){n?y.addClass(t,e):y.removeClass(t,e)}function h(t,e,n){n?y.removeClass(t,e):y.addClass(t,e)}function v(t,e,n){n?y.att(t,e):y.removeAtt(t,e)}function b(t,e,n){n?y.removeAtt(t,e):y.att(t,e)}var g=function(){function e(){return a(n,arguments)}var n={en:{},fr:{}},a=t("$").intl;return e.all=n,e}(),y=t("dom"),m=t("tfw.binding.property-manager"),w=t("external.hammer"),C=t("tfw.binding.converters");n.Tag=a,n.ensureCodeBehind=u,n.events=l,n.defVal=d,n.addClassIfTrue=p,n.addClassIfFalse=h,n.addAttribIfTrue=v,n.addAttribIfFalse=b,a.prototype.applyClass=function(t,e){var n=this.$;void 0===e&&(e=0),void 0===this._applyer&&(this._applyer={}),Array.isArray(t)||(t=[t]);var a=this._applyer[e];Array.isArray(a)&&a.forEach(y.removeClass.bind(y,n)),this._applyer[e]=t,t.forEach(y.addClass.bind(y,n))};var E=["g","rect","circle","line","path","defs"],A=["tap","doubletap","press","pan","panstart","panmove","panup","pandown","panleft","panright","panend","pancancel","swipe","swipeleft","swipteright","swipetop","swipebottom","pinch","pinchin","pinchout","pinchstart","pinchmove","pinchend","pinchcancel","rotate","rotatestart","rotatemove","rotateend","rotatecancel"];e.exports._=g});
//# sourceMappingURL=tfw.view.js.map
require("external.hammer",function(t,e,n){var i=function(){function e(){return i(n,arguments)}var n={en:{},fr:{}},i=t("$").intl;return e.all=n,e}();!function(t,n,i,r){"use strict";function s(t,e,n){return setTimeout(c(t,n),e)}function o(t,e,n){return!!Array.isArray(t)&&(a(t,n[e],n),!0)}function a(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==r)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function h(e,n,i){var r="DEPRECATED METHOD: "+n+"\n"+i+" AT \n";return function(){var n=new Error("get-stack-trace"),i=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=t.console&&(t.console.warn||t.console.log);return s&&s.call(t.console,r,i),e.apply(this,arguments)}}function u(t,e,n){var i,r=e.prototype;i=t.prototype=Object.create(r),i.constructor=t,i._super=r,n&&lt(i,n)}function c(t,e){return function(){return t.apply(e,arguments)}}function l(t,e){return typeof t==vt?t.apply(e?e[0]||r:r,e):t}function p(t,e){return t===r?e:t}function f(t,e,n){a(g(e),function(e){t.addEventListener(e,n,!1)})}function v(t,e,n){a(g(e),function(e){t.removeEventListener(e,n,!1)})}function d(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function m(t,e){return t.indexOf(e)>-1}function g(t){return t.trim().split(/\s+/g)}function T(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function y(t){return Array.prototype.slice.call(t,0)}function E(t,e,n){for(var i=[],r=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];T(r,o)<0&&i.push(t[s]),r[s]=o,s++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function I(t,e){for(var n,i,s=e[0].toUpperCase()+e.slice(1),o=0;o<pt.length;){if(n=pt[o],(i=n?n+s:e)in t)return i;o++}return r}function A(){return Et++}function _(e){var n=e.ownerDocument||e;return n.defaultView||n.parentWindow||t}function C(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){l(t.options.enable,[t])&&n.handler(e)},this.init()}function S(t){var e=t.options.inputClass;return new(e||(_t?q:Ct?k:At?U:F))(t,b)}function b(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,s=e&xt&&i-r==0,o=e&(wt|Ot)&&i-r==0;n.isFirst=!!s,n.isFinal=!!o,s&&(t.session={}),n.eventType=e,P(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function P(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=w(e)),r>1&&!n.firstMultiple?n.firstMultiple=w(e):1===r&&(n.firstMultiple=!1);var s=n.firstInput,o=n.firstMultiple,a=o?o.center:s.center,h=e.center=O(i);e.timeStamp=gt(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=N(a,h),e.distance=z(a,h),x(n,e),e.offsetDirection=M(e.deltaX,e.deltaY);var u=R(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=mt(u.x)>mt(u.y)?u.x:u.y,e.scale=o?Y(o.pointers,i):1,e.rotation=o?X(o.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,D(n,e);var c=t.element;d(e.srcEvent.target,c)&&(c=e.srcEvent.target),e.target=c}function x(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},s=t.prevInput||{};e.eventType!==xt&&s.eventType!==wt||(r=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}function D(t,e){var n,i,s,o,a=t.lastInterval||e,h=e.timeStamp-a.timeStamp;if(e.eventType!=Ot&&(h>Pt||a.velocity===r)){var u=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,l=R(h,u,c);i=l.x,s=l.y,n=mt(l.x)>mt(l.y)?l.x:l.y,o=M(u,c),t.lastInterval=e}else n=a.velocity,i=a.velocityX,s=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=i,e.velocityY=s,e.direction=o}function w(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:dt(t.pointers[n].clientX),clientY:dt(t.pointers[n].clientY)},n++;return{timeStamp:gt(),pointers:e,center:O(e),deltaX:t.deltaX,deltaY:t.deltaY}}function O(t){var e=t.length;if(1===e)return{x:dt(t[0].clientX),y:dt(t[0].clientY)};for(var n=0,i=0,r=0;e>r;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:dt(n/e),y:dt(i/e)}}function R(t,e,n){return{x:e/t||0,y:n/t||0}}function M(t,e){return t===e?Rt:mt(t)>=mt(e)?0>t?Mt:zt:0>e?Nt:Xt}function z(t,e,n){n||(n=Wt);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function N(t,e,n){n||(n=Wt);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function X(t,e){return N(e[1],e[0],Ht)+N(t[1],t[0],Ht)}function Y(t,e){return z(e[0],e[1],Ht)/z(t[0],t[1],Ht)}function F(){this.evEl=Lt,this.evWin=Ut,this.pressed=!1,C.apply(this,arguments)}function q(){this.evEl=Gt,this.evWin=Zt,C.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function W(){this.evTarget=$t,this.evWin=Jt,this.started=!1,C.apply(this,arguments)}function H(t,e){var n=y(t.touches),i=y(t.changedTouches);return e&(wt|Ot)&&(n=E(n.concat(i),"identifier",!0)),[n,i]}function k(){this.evTarget=Qt,this.targetIds={},C.apply(this,arguments)}function L(t,e){var n=y(t.touches),i=this.targetIds;if(e&(xt|Dt)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,s,o=y(t.changedTouches),a=[],h=this.target;if(s=n.filter(function(t){return d(t.target,h)}),e===xt)for(r=0;r<s.length;)i[s[r].identifier]=!0,r++;for(r=0;r<o.length;)i[o[r].identifier]&&a.push(o[r]),e&(wt|Ot)&&delete i[o[r].identifier],r++;return a.length?[E(s.concat(a),"identifier",!0),a]:void 0}function U(){C.apply(this,arguments);var t=c(this.handler,this);this.touch=new k(this.manager,t),this.mouse=new F(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function V(t,e){t&xt?(this.primaryTouch=e.changedPointers[0].identifier,j.call(this,e)):t&(wt|Ot)&&j.call(this,e)}function j(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches,r=function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)};setTimeout(r,te)}}function G(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],s=Math.abs(e-r.x),o=Math.abs(n-r.y);if(ee>=s&&ee>=o)return!0}return!1}function Z(t,e){this.manager=t,this.set(e)}function B(t){if(m(t,ae))return ae;var e=m(t,he),n=m(t,ue);return e&&n?ae:e||n?e?he:ue:m(t,oe)?oe:se}function $(t){this.options=lt({},this.defaults,t||{}),this.id=A(),this.manager=null,this.options.enable=p(this.options.enable,!0),this.state=le,this.simultaneous={},this.requireFail=[]}function J(t){return t&me?"cancel":t&ve?"end":t&fe?"move":t&pe?"start":""}function K(t){return t==Xt?"down":t==Nt?"up":t==Mt?"left":t==zt?"right":""}function Q(t,e){var n=e.manager;return n?n.get(t):t}function tt(){$.apply(this,arguments)}function et(){tt.apply(this,arguments),this.pX=null,this.pY=null}function nt(){tt.apply(this,arguments)}function it(){$.apply(this,arguments),this._timer=null,this._input=null}function rt(){tt.apply(this,arguments)}function st(){tt.apply(this,arguments)}function ot(){$.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function at(t,e){return e=e||{},e.recognizers=p(e.recognizers,at.defaults.preset),new ht(t,e)}function ht(t,e){this.options=lt({},at.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=S(this),this.touchAction=new Z(this,this.options.touchAction),ut(this,!0),a(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ut(t,e){var n=t.element;if(n.style){var i;a(t.options.cssProps,function(r,s){i=I(n.style,s),e?(t.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={})}}function ct(t,e){var i=n.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}var lt,pt=["","webkit","Moz","MS","ms","o"],ft=n.createElement("div"),vt="function",dt=Math.round,mt=Math.abs,gt=Date.now;lt="function"!=typeof Object.assign?function(t){if(t===r||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==r&&null!==i)for(var s in i)i.hasOwnProperty(s)&&(e[s]=i[s])}return e}:Object.assign;var Tt=h(function(t,e,n){for(var i=Object.keys(e),s=0;s<i.length;)(!n||n&&t[i[s]]===r)&&(t[i[s]]=e[i[s]]),s++;return t},"extend","Use `assign`."),yt=h(function(t,e){return Tt(t,e,!0)},"merge","Use `assign`."),Et=1,It=/mobile|tablet|ip(ad|hone|od)|android/i,At="ontouchstart"in t,_t=I(t,"PointerEvent")!==r,Ct=At&&It.test(navigator.userAgent),St="touch",bt="mouse",Pt=25,xt=1,Dt=2,wt=4,Ot=8,Rt=1,Mt=2,zt=4,Nt=8,Xt=16,Yt=Mt|zt,Ft=Nt|Xt,qt=Yt|Ft,Wt=["x","y"],Ht=["clientX","clientY"];C.prototype={handler:function(){},init:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(_(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(_(this.element),this.evWin,this.domHandler)}};var kt={mousedown:xt,mousemove:Dt,mouseup:wt},Lt="mousedown",Ut="mousemove mouseup";u(F,C,{handler:function(t){var e=kt[t.type];e&xt&&0===t.button&&(this.pressed=!0),e&Dt&&1!==t.which&&(e=wt),this.pressed&&(e&wt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:bt,srcEvent:t}))}});var Vt={pointerdown:xt,pointermove:Dt,pointerup:wt,pointercancel:Ot,pointerout:Ot},jt={2:St,3:"pen",4:bt,5:"kinect"},Gt="pointerdown",Zt="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(Gt="MSPointerDown",Zt="MSPointerMove MSPointerUp MSPointerCancel"),u(q,C,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Vt[i],s=jt[t.pointerType]||t.pointerType,o=s==St,a=T(e,t.pointerId,"pointerId");r&xt&&(0===t.button||o)?0>a&&(e.push(t),a=e.length-1):r&(wt|Ot)&&(n=!0),0>a||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),n&&e.splice(a,1))}});var Bt={touchstart:xt,touchmove:Dt,touchend:wt,touchcancel:Ot},$t="touchstart",Jt="touchstart touchmove touchend touchcancel";u(W,C,{handler:function(t){var e=Bt[t.type];if(e===xt&&(this.started=!0),this.started){var n=H.call(this,t,e);e&(wt|Ot)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:St,srcEvent:t})}}});var Kt={touchstart:xt,touchmove:Dt,touchend:wt,touchcancel:Ot},Qt="touchstart touchmove touchend touchcancel";u(k,C,{handler:function(t){var e=Kt[t.type],n=L.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:St,srcEvent:t})}});var te=2500,ee=25;u(U,C,{handler:function(t,e,n){var i=n.pointerType==St,r=n.pointerType==bt;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)V.call(this,e,n);else if(r&&G.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ne=I(ft.style,"touchAction"),ie=ne!==r,re="compute",se="auto",oe="manipulation",ae="none",he="pan-x",ue="pan-y",ce=function(){if(!ie)return!1;var e={},n=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){e[i]=!n||t.CSS.supports("touch-action",i)}),e}();Z.prototype={set:function(t){t==re&&(t=this.compute()),ie&&this.manager.element.style&&ce[t]&&(this.manager.element.style[ne]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return a(this.manager.recognizers,function(e){l(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),B(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var i=this.actions,r=m(i,ae)&&!ce[ae],s=m(i,ue)&&!ce[ue],o=m(i,he)&&!ce[he];if(r){var a=1===t.pointers.length,h=t.distance<2,u=t.deltaTime<250;if(a&&h&&u)return}return o&&s?void 0:r||s&&n&Yt||o&&n&Ft?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var le=1,pe=2,fe=4,ve=8,de=ve,me=16;$.prototype={defaults:{},set:function(t){return lt(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(o(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=Q(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return o(t,"dropRecognizeWith",this)?this:(t=Q(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(o(t,"requireFailure",this))return this;var e=this.requireFail;return t=Q(t,this),-1===T(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(o(t,"dropRequireFailure",this))return this;t=Q(t,this);var e=T(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,i=this.state;ve>i&&e(n.options.event+J(i)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),i>=ve&&e(n.options.event+J(i))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=32)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|le)))return!1;t++}return!0},recognize:function(t){var e=lt({},t);return l(this.options.enable,[this,e])?(this.state&(de|me|32)&&(this.state=le),this.state=this.process(e),void(this.state&(pe|fe|ve|me)&&this.tryEmit(e))):(this.reset(),void(this.state=32))},process:function(t){},getTouchAction:function(){},reset:function(){}},u(tt,$,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(pe|fe),r=this.attrTest(t);return i&&(n&Ot||!r)?e|me:i||r?n&wt?e|ve:e&pe?e|fe:pe:32}}),u(et,tt,{defaults:{event:"pan",threshold:10,pointers:1,direction:qt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Yt&&e.push(ue),t&Ft&&e.push(he),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,s=t.deltaX,o=t.deltaY;return r&e.direction||(e.direction&Yt?(r=0===s?Rt:0>s?Mt:zt,n=s!=this.pX,i=Math.abs(t.deltaX)):(r=0===o?Rt:0>o?Nt:Xt,n=o!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return tt.prototype.attrTest.call(this,t)&&(this.state&pe||!(this.state&pe)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=K(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),u(nt,tt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ae]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&pe)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),u(it,$,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[se]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(wt|Ot)&&!r)this.reset();else if(t.eventType&xt)this.reset(),this._timer=s(function(){this.state=de,this.tryEmit()},e.time,this);else if(t.eventType&wt)return de;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===de&&(t&&t.eventType&wt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=gt(),this.manager.emit(this.options.event,this._input)))}}),u(rt,tt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ae]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&pe)}}),u(st,tt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Yt|Ft,pointers:1},getTouchAction:function(){return et.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Yt|Ft)?e=t.overallVelocity:n&Yt?e=t.overallVelocityX:n&Ft&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&mt(e)>this.options.velocity&&t.eventType&wt},emit:function(t){var e=K(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),u(ot,$,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[oe]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&xt&&0===this.count)return this.failTimeout();if(i&&r&&n){if(t.eventType!=wt)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||z(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t;if(0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=s(function(){this.state=de,this.tryEmit()},e.interval,this),pe):de}return 32},failTimeout:function(){return this._timer=s(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==de&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),at.VERSION="2.0.8",at.defaults={domEvents:!1,touchAction:re,enable:!0,inputTarget:null,inputClass:null,preset:[[rt,{enable:!1}],[nt,{enable:!1},["rotate"]],[st,{direction:Yt}],[et,{direction:Yt},["swipe"]],[ot],[ot,{event:"doubletap",taps:2},["tap"]],[it]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};ht.prototype={set:function(t){return lt(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&de)&&(r=e.curRecognizer=null);for(var s=0;s<i.length;)n=i[s],2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(pe|fe|ve)&&(r=e.curRecognizer=n),s++}},get:function(t){if(t instanceof $)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(o(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(o(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=T(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==r&&e!==r){var n=this.handlers;return a(g(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==r){var n=this.handlers;return a(g(t),function(t){e?n[t]&&n[t].splice(T(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&ct(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&ut(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},lt(at,{INPUT_START:xt,INPUT_MOVE:Dt,INPUT_END:wt,INPUT_CANCEL:Ot,STATE_POSSIBLE:le,STATE_BEGAN:pe,STATE_CHANGED:fe,STATE_ENDED:ve,STATE_RECOGNIZED:de,STATE_CANCELLED:me,STATE_FAILED:32,DIRECTION_NONE:Rt,DIRECTION_LEFT:Mt,DIRECTION_RIGHT:zt,DIRECTION_UP:Nt,DIRECTION_DOWN:Xt,DIRECTION_HORIZONTAL:Yt,DIRECTION_VERTICAL:Ft,DIRECTION_ALL:qt,Manager:ht,Input:C,TouchAction:Z,TouchInput:k,MouseInput:F,PointerEventInput:q,TouchMouseInput:U,SingleTouchInput:W,Recognizer:$,AttrRecognizer:tt,Tap:ot,Pan:et,Swipe:st,Pinch:nt,Rotate:rt,Press:it,on:f,off:v,each:a,merge:yt,extend:Tt,assign:lt,inherit:u,bindFn:c,prefixed:I}),(void 0!==t?t:"undefined"!=typeof self?self:{}).Hammer=at,"function"==typeof define&&define.amd?define(function(){return at}):void 0!==e&&e.exports?e.exports=at:t.Hammer=at}(window,document),e.exports=Hammer,e.exports._=i});
//# sourceMappingURL=external.hammer.js.map
require("dom",function(e,r,t){function n(e,r,t){return Object.defineProperty(e,"element",{value:r,writable:!1,configurable:!1,enumerable:!0}),t?e:(e.on=v.bind(e,r),e.css=i.bind(e,r),e.add=l.bind(e,r),e.att=s.bind(e,r),e.addClass=y.bind(e,r),e.hasClass=h.bind(e,r),e.removeClass=p.bind(e,r),e.toggleClass=g.bind(e,r),e)}function o(e,r){return e=M(e),r=M(r),r.parentNode.replaceChild(e,r),e}function i(e,r){e=M(e);var t,n;for(t in r)n=r[t],e.style[t]=n;return e}function s(e,r,t){e=M(e);var n,o;"string"==typeof r&&(void 0===t&&(t=""),n=r,r={},r[n]=t);for(n in r)o=r[n],e.setAttribute(n,o);return e}function a(e,r){return e=M(e),e.removeAttribute(r),e}function l(e){e=M(e);try{var r,t;for(r=1;r<arguments.length;r++)t=arguments[r],u(e,t)||f(e,t)||c(e,t)||console.error("Argument #"+r+" of dom.add() is invalid!",arguments);return e}catch(e){console.error("[DOM.add] arguments=",[].slice.call(arguments)),console.error("[DOM.add] exception=",e)}}function c(e,r){return(r=M(r))instanceof Node&&(e.appendChild(r),!0)}function f(e,r){if("number"==typeof r&&(r=""+r),"string"!=typeof r)return!1;if("<html>"==r.substr(0,6).toLowerCase()){var t=r.substr(6);r=M.tag("span"),r.innerHTML=t}else if(D.test(r)){var n=r;r=M.tag("span"),r.innerHTML=n}else r=document.createTextNode(r);return e.appendChild(r),!0}function u(e,r){return!!Array.isArray(r)&&(r.forEach(function(r){l(e,r)}),!0)}function d(e){if(Array.isArray(e))return e.forEach(function(e){d(e)}),e;if(void 0===e[k])return e;var r=e[k].events;if(void 0===r)return e;r.off(),delete e[k].events}function v(e,r,t){if("function"==typeof r||null===r)r={tap:r};else if("string"==typeof r&&"function"==typeof t){var n={};n[r]=t,r=n}if(Array.isArray(e))return e.forEach(function(e){v(e,r)}),e;e=M(e),void 0===e[k]&&(e[k]={}),void 0===e[k].events&&(e[k].events=new O(e));var o,i,s;for(o in r)i=r[o],"!"==o.charAt(0)?(o=o.substr(1),s=!0):s=!1,H.indexOf(o.toLowerCase())>-1?e.addEventListener(o,i,s):e[k].events.on(o,i,s);return e}function m(e,r){try{var t,n,o,i,s=document.createElementNS(e,r.trim().toLowerCase());for(t=2;t<arguments.length;t++)if(n=arguments[t],Array.isArray(n))n.forEach(function(e){switch(typeof e){case"string":case"number":case"boolean":if(e=""+e,"<html>"==e.substr(0,6)){var r=e.substr(6);e=M.tag("span"),e.innerHTML=r}else e=document.createTextNode(e)}l(s,e)});else switch(typeof n){case"string":n.split(" ").forEach(function(e){e.length>0&&y(s,e)});break;case"object":for(o in n)i=n[o],s.setAttribute(o,i);break;default:throw Error("[dom.tag] Error creating <"+r+">: Invalid argument #"+t+"!")}return s}catch(t){console.error("[dom.tagNS] Error with `ns` = ",e," and `name` = ",r),console.error(t)}}function y(e){var r=[].slice.call(arguments,1);return Array.isArray(e)?(r.unshift(null),e.forEach(function(e){r[0]=e,y.apply(void 0,r)}),e):(e=M(e),r.forEach(function(r){if("string"==typeof r&&(r=r.trim(),0!=r.length))try{e.classList&&e.classList.add(r)}catch(e){console.error("[dom.addClass] Invalid class name: ",r),console.error(e)}}),e)}function h(e,r){return e=M(e),!!e.classList&&e.classList.contains(r)}function p(e){var r=[].slice.call(arguments,1);return Array.isArray(e)?(r.unshift(null),e.forEach(function(e){r[0]=e,p.apply(void 0,r)}),e):(e=M(e),r.forEach(function(r){if("string"==typeof r)try{e.classList&&e.classList.remove(r)}catch(e){console.error("[dom.removeClass] Invalid class name: ",r),console.error(e)}}),e)}function g(e){return[].slice.call(arguments,1).forEach(function(r){h(e,r)?p(e,r):y(e,r)}),e}function w(e){e=M(e);for(var r=e;r.firstChild;)r.removeChild(r.firstChild);var t=[].slice.call(arguments);return t.length>1&&l.apply(this,t),e}function b(e,r){return e=M(e),void 0===r&&(r=e,e=window.document),e.querySelector(r)}function A(e){e=M(e);var r=e.parentElement;return r?(r.removeChild(e),r):r}function C(e){var r=[].slice.call(arguments);r.shift(),0==r.length&&(r=["div"]),r.push("dom","custom");var t;return void 0!==r[0].element?(t=r[0].element,y(t,"dom","custom")):"function"==typeof r[0].appendChild?(t=r[0],y(t,"dom","custom")):t=M.tag.apply(M,r),Object.defineProperty(e,"element",{value:t,writable:!1,configurable:!1,enumerable:!0}),t}function E(e,r){return void 0===r&&(r=""),null===r&&(r=""),"string"!=typeof r&&(r=JSON.stringify(r)),"<html>"==r.substr(0,6)?e.innerHTML=r.substr(6):e.textContent=r,e}function x(e){if(!Array.isArray(e))return x(Array.prototype.slice.call(arguments));e.forEach(function(e){e=M(e),void 0===e[k]&&(e[k]={}),Array.isArray(e[k].style)||(e[k].style=[]),e[k].style.push(JSON.stringify(e.style))})}function L(e){if(!Array.isArray(e))return L(Array.prototype.slice.call(arguments));e.forEach(function(e){if(e=M(e),void 0===e[k]||!Array.isArray(e[k].style))throw Error("[dom.restoreStyle] `saveStyle()` has never been used on this element!");if(0==e[k].style.length)throw Error("[dom.restoreStyle] more `restore` than `save`!");var r,t,n=JSON.parse(e[k].style.pop());for(r in n)void 0!==(t=n[r])&&(e.style[r]=t)})}function N(e,r){T.register.call(this,e,r),T.apply.call(this,e)}var S=function(){function r(){return n(t,arguments)}var t={en:{}},n=e("$").intl;return r.all=t,r}();e("polyfill.classList");var T=e("dom.theme"),O=e("tfw.pointer-events"),M=function(e){if(e instanceof Node)return e;if(void 0===e||null===e)throw Error("`dom` is not a valid element!",e);if(e.$ instanceof Node)return e.$;if(e.element instanceof Node)return e.element;if("string"==typeof e){var r=document.getElementById(e);return r||console.error("[dom] There is no DOM element with this ID: `"+e+"`"),r}return"function"==typeof e.element?e.element():e};r.exports=M;var k="@dom"+Date.now(),D=/^&(#[0-9]+|[a-zA-Z0-9]+);$/;M.tagNS=m,M.svgRoot=m.bind(void 0,"http://www.w3.org/2000/svg","svg",{version:"1.1","xmlns:svg":"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),M.svg=m.bind(void 0,"http://www.w3.org/2000/svg"),M.tag=m.bind(void 0,"http://www.w3.org/1999/xhtml"),M.div=m.bind(void 0,"http://www.w3.org/1999/xhtml","div"),M.txt=window.document.createTextNode.bind(window.document),M.textOrHtml=E,M.get=b,M.elem=C,M.css=i,M.att=s,M.removeAtt=a,M.addClass=y,M.hasClass=h,M.removeClass=p,M.toggleClass=g,M.saveStyle=x,M.restoreStyle=L,M.registerTheme=T.register.bind(M),M.applyTheme=T.apply.bind(M),M.registerAndApplyTheme=N,M.replace=o,M.detach=A,M.on=v,M.off=d,M.add=l,M.wrap=n,M.clear=w;var H=["keyup","keydown","scroll","load","error"];r.exports._=S});
//# sourceMappingURL=dom.js.map
require("tfw.pointer-events",function(t,e,o){function a(t){var e=this;this._slots={},this._eventListeners=[],Object.defineProperty(a.prototype,"element",{value:t,writable:!1,configurable:!0,enumerable:!0}),n.call(e,t,"touchstart",function(o){o.preventDefault(),i.touchDevice||(i.touchDevice=!0,document.body.removeEventListener("mousedown",p,!0),document.body.removeEventListener("mousemove",u,!0),document.body.removeEventListener("mouseup",v,!0));var a=e._slots;1==o.touches.length&&(i.rect=t.getBoundingClientRect(),i.bodyMoveX=o.touches[0].clientX,i.bodyMoveY=o.touches[0].clientY,i.bodyDownX=o.touches[0].clientX,i.bodyDownY=o.touches[0].clientY,i.targetX=o.touches[0].clientX-i.rect.left,i.targetY=o.touches[0].clientY-i.rect.top,i.time=Date.now(),a.down&&a.down({action:"down",button:i.bodyButton,target:t,x:i.targetX,y:i.targetY,stopPropagation:o.stopPropagation.bind(o),preventDefault:o.preventDefault.bind(o)}))}),n.call(e,t,"touchmove",function(o){o.preventDefault();var a=i.bodyMoveX,n=i.bodyMoveY;i.bodyMoveX=o.touches[0].clientX,i.bodyMoveY=o.touches[0].clientY;var r=e._slots;r.drag&&r.drag({action:"drag",target:t,x0:i.targetX,y0:i.targetY,x:i.bodyMoveX-i.rect.left,y:i.bodyMoveY-i.rect.top,dx:i.bodyMoveX-i.bodyDownX,dy:i.bodyMoveY-i.bodyDownY,vx:i.bodyMoveX-a,vy:i.bodyMoveY-n,stopPropagation:o.stopPropagation.bind(o),preventDefault:o.preventDefault.bind(o)})}),n.call(e,t,"touchend",function(t){t.preventDefault();var o=e._slots,a=i.bodyMoveX-i.bodyDownX,n=i.bodyMoveY-i.bodyDownY;if(o.up&&o.up({action:"up",target:e.element,x:i.bodyMoveX-i.rect.left,y:i.bodyMoveY-i.rect.top,dx:a,dy:n,stopPropagation:t.stopPropagation.bind(t),preventDefault:t.preventDefault.bind(t)}),a*a+n*n<256){var r=Date.now();i.lastTapTime>0&&(o.doubletap&&r-i.lastTapTime<400?o.doubletap({action:"doubletap",target:i.bodyTarget,x:i.bodyMoveX-i.rect.left,y:i.bodyMoveY-i.rect.top,stopPropagation:t.stopPropagation.bind(t),preventDefault:t.preventDefault.bind(t)}):i.lastTapTime=0),o.tap&&0==i.lastTapTime&&(t.stopPropagation(),t.preventDefault(),o.tap({action:"tap",target:i.bodyTarget,x:i.bodyMoveX-i.rect.left,y:i.bodyMoveY-i.rect.top,stopPropagation:t.stopPropagation.bind(t),preventDefault:t.preventDefault.bind(t)})),i.lastTapTime=r}}),n.call(e,t,"mousedown",function(o){if(!i.touchDevice){var a=e._slots;i.target=e;var n=t.getBoundingClientRect();i.targetX=o.pageX-n.left,i.targetY=o.pageY-n.top,a.down&&a.down({action:"down",button:i.bodyButton,target:i.bodyTarget,x:i.targetX,y:i.targetY,stopPropagation:o.stopPropagation.bind(o),preventDefault:o.preventDefault.bind(o)})}}),n.call(e,t,"mousemove",function(o){var a=e._slots;if(a.move){var n=t.getBoundingClientRect();a.move({target:t,action:"move",x:o.pageX-n.left,y:o.pageY-n.top,stopPropagation:o.stopPropagation.bind(o),preventDefault:o.preventDefault.bind(o)})}}),Object.defineProperty(this,"element",{value:t,writable:!0,configurable:!0,enumerable:!0})}function n(t,e,o,a){t.addEventListener(e,o,a),this._eventListeners.push([t,e,o,a])}var r=function(){function e(){return a(o,arguments)}var o={en:{}},a=t("$").intl;return e.all=o,e}(),d="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",i={touchDevice:!1,target:null,targetX:0,targetY:0,bodyDownX:0,bodyDownY:0,bodyMoveX:-1,bodyMoveY:-1,bodyMoveLastX:-1,bodyMoveLastY:-1,onDrag:null,lastTapTime:0},p=function(t){i.touchDevice||(i.bodyDownX=t.pageX,i.bodyDownY=t.pageY,i.bodyMoveX=t.pageX,i.bodyMoveY=t.pageY,i.bodyMoveLastX=t.pageX,i.bodyMoveLastY=t.pageY,i.bodyTarget=t.target,i.bodyButton=t.button)},u=function(t){if(!i.touchDevice&&i.target&&(t.stopPropagation(),t.preventDefault(),i.bodyMoveLastX=i.bodyMoveX,i.bodyMoveLastY=i.bodyMoveY,i.bodyMoveX=t.pageX,i.bodyMoveY=t.pageY,i.target)){var e=i.target._slots;"function"==typeof e.drag&&e.drag({action:"drag",target:i.target.element,x0:i.targetX,y0:i.targetY,x:i.targetX+i.bodyMoveX-i.bodyDownX,y:i.targetY+i.bodyMoveY-i.bodyDownY,dx:i.bodyMoveX-i.bodyDownX,dy:i.bodyMoveY-i.bodyDownY,vx:i.bodyMoveX-i.bodyMoveLastX,vy:i.bodyMoveY-i.bodyMoveLastY,button:i.bodyButton})}},v=function(t){if(!i.touchDevice&&i.target){t.stopPropagation(),t.preventDefault();var e=Date.now(),o=i.target._slots,a=t.pageX-i.bodyDownX,n=t.pageY-i.bodyDownY;o.up&&o.up({action:"up",target:i.bodyTarget,x:i.targetX+a,y:i.targetY+n,dx:a,dy:n,button:i.bodyButton,stopPropagation:t.stopPropagation.bind(t),preventDefault:t.preventDefault.bind(t)}),a*a+n*n<1024&&(i.lastTapTime>0&&(o.doubletap&&e-i.lastTapTime<400?o.doubletap({action:"doubletap",target:i.bodyTarget,x:i.targetX+a,y:i.targetY+n}):i.lastTapTime=0),o.tap&&0==i.lastTapTime&&o.tap({action:"tap",target:i.bodyTarget,x:i.targetX+a,y:i.targetY+n}),i.lastTapTime=e),delete i.target}};document.body.addEventListener("mousedown",p,!0),document.body.addEventListener("mousemove",u,!0),document.body.addEventListener("mouseup",v,!0),a.prototype.on=function(t,e){var o=this,a=this._slots;return"function"==typeof e&&(a[t]=e),"wheel"==t&&n.call(o,this.element,d,function(t){t.target=i.bodyTarget,t.action="wheel";var e=o.element.getBoundingClientRect();t.x=t.pageX-e.left,t.y=t.pageY-e.top,t.delta=t.deltaY,a.wheel(t)}),this},a.prototype.off=function(){this._eventListeners.forEach(function(t){var e=t[0],o=t[1],a=t[2],n=t[3];e.removeEventListener(o,a,n)})},e.exports=a,e.exports._=r});
//# sourceMappingURL=tfw.pointer-events.js.map
require("dom.theme",function(t,n,e){function o(t,n){n=m(n);var e=g(t,n);e+=b(t,n),e+=i(t,n),e+=r(t,n);var o=l.css[t];return o||(o=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(o),l.css[t]=o),o.textContent=e,this}function r(t,n){for(var e="",o=1;o<=10;o++)u.forEach(function(r){for(var g=".thm-bg"+r,b=".thm-fg"+r,i=1;i<=o;i++){for(var h=[],m=[],a=[],d=1;d<=o;d++)a.push(i===d?g:"*"),m.push(i===d?g:"*"),h.push(i===d?b:"*"),d===o&&(a.push(a.pop()+".thm-fg"),h.push(h.pop()+b));e+="body.dom-theme-"+t+" "+a.join(" > ")+" { color: "+n["fg"+r]+" }\n",e+="body.dom-theme-"+t+" "+h.join(" > ")+" { color: "+n["bg"+r]+" }\n",e+="body.dom-theme-"+t+" "+m.join(" > ")+" .thm-svg-fill0 { fill: "+n["fg"+r]+" }\n",e+="body.dom-theme-"+t+" "+m.join(" > ")+" .thm-svg-stroke0 { stroke: "+n["fg"+r]+" }\n"}});return e}function g(t,n){var e="body.dom-theme-"+t+"{\n";return u.forEach(function(t){e+="  --thm-bg"+t+": "+n["bg"+t]+";\n"}),e+="}\n"}function b(t,n){var e="";return u.forEach(function(o){e+="body.dom-theme-"+t+".thm-bg"+o+" { background-color: "+n["bg"+o]+" }\n",e+="body.dom-theme-"+t+" .thm-fg"+o+" { color: "+n["fg"+o]+" }\n",e+="body.dom-theme-"+t+" .thm-bg"+o+" { background-color: "+n["bg"+o]+" }\n",e+="body.dom-theme-"+t+" .thm-bg"+o+"-bottom { background: linear-gradient(to top,"+n["bg"+o]+",transparent) }\n",e+="body.dom-theme-"+t+" .thm-bg"+o+"-top { background: linear-gradient(to bottom,"+n["bg"+o]+",transparent) }\n",e+="body.dom-theme-"+t+" .thm-bg"+o+"-left { background: linear-gradient(to right,"+n["bg"+o]+",transparent) }\n",e+="body.dom-theme-"+t+" .thm-bg"+o+"-right { background: linear-gradient(to left,"+n["bg"+o]+",transparent) }\n",isNaN(parseInt(o))&&(e+="body.dom-theme-"+t+" .thm-svg-fill"+o+" { fill: "+n["bg"+o]+" }\n",e+="body.dom-theme-"+t+" .thm-svg-stroke"+o+" { stroke: "+n["bg"+o]+" }\n")}),e}function i(t,n){var e=c.luminance(n.bg2),o=e<.6?s(n.white,Math.ceil(10*e)):s(n.black,"6"),r="";return[0,1,2,3,4,6,8,9,12,16,24].forEach(function(n){r+="body.dom-theme-"+t+" .thm-ele"+n+" {\n  box-shadow: 0 "+n+"px "+2*n+"px "+o+"\n}\n"}),r}function h(t,n){if(void 0===n&&(n=document.body),!l.css[t])return void console.error("This theme has not been registered: ",t);var e=document.body;"string"==typeof l.current&&this.removeClass(e,"dom-theme-"+l.current),l.current=t,this.addClass(e,"dom-theme-"+l.current)}function m(t){return void 0===t&&(t={}),"string"!=typeof t.bg0&&(t.bg0="#E0E0E0"),"string"!=typeof t.bg1&&(t.bg1="#F5F5F5"),"string"!=typeof t.bg2&&(t.bg2="#FAFAFA"),"string"!=typeof t.bg3&&(t.bg3="#FFF"),"string"!=typeof t.bgP&&(t.bgP="#3E50B4"),"string"!=typeof t.bgPD&&(t.bgPD=a(t.bgP)),"string"!=typeof t.bgPL&&(t.bgPL=d(t.bgP)),"string"!=typeof t.bgS&&(t.bgS="#FF3F80"),"string"!=typeof t.bgSD&&(t.bgSD=a(t.bgS)),"string"!=typeof t.bgSL&&(t.bgSL=d(t.bgS)),void 0===t.white&&(t.white="#fff"),void 0===t.black&&(t.black="#000"),u.forEach(function(n){var e=t["bg"+n],o=c.luminance(e);t["fg"+n]=o<.6?t.white:t.black}),t}function a(t){var n=new c(t);return n.rgb2hsl(),n.L*=.75,n.hsl2rgb(),n.stringify()}function d(t){var n=new c(t);return n.rgb2hsl(),n.L=.4+.6*n.L,n.hsl2rgb(),n.stringify()}function s(t,n){return t.length<5?t+n:t+n+n}var f=function(){function n(){return o(e,arguments)}var e={en:{},fr:{}},o=t("$").intl;return n.all=e,n}();e.register=o,e.apply=h;var c=t("tfw.color"),u=["0","1","2","3","P","PD","PL","S","SD","SL"],l={css:{},current:null};n.exports._=f});
//# sourceMappingURL=dom.theme.js.map
require("polyfill.classList",function(t,e,n){var i=function(){function e(){return i(n,arguments)}var n={en:{}},i=t("$").intl;return e.all=n,e}();"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,i=arguments.length;for(n=0;n<i;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}t=null}():function(t){"use strict";if("Element"in t){var e=t.Element.prototype,n=Object,i=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array.prototype.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},r=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},o=function(t,e){if(""===e)throw new r("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new r("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(t,e)},c=function(t){for(var e=i.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],s=0,r=n.length;s<r;s++)this.push(n[s]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},a=c.prototype=[],l=function(){return new c(this)};if(r.prototype=Error.prototype,a.item=function(t){return this[t]||null},a.contains=function(t){return t+="",-1!==o(this,t)},a.add=function(){var t,e=arguments,n=0,i=e.length,s=!1;do{t=e[n]+"",-1===o(this,t)&&(this.push(t),s=!0)}while(++n<i);s&&this._updateClassName()},a.remove=function(){var t,e,n=arguments,i=0,s=n.length,r=!1;do{for(t=n[i]+"",e=o(this,t);-1!==e;)this.splice(e,1),r=!0,e=o(this,t)}while(++i<s);r&&this._updateClassName()},a.toggle=function(t,e){t+="";var n=this.contains(t),i=n?!0!==e&&"remove":!1!==e&&"add";return i&&this[i](t),!0===e||!1===e?e:!n},a.toString=function(){return this.join(" ")},n.defineProperty){var u={get:l,enumerable:!0,configurable:!0};try{n.defineProperty(e,"classList",u)}catch(t){-2146823252===t.number&&(u.enumerable=!1,n.defineProperty(e,"classList",u))}}else n.prototype.__defineGetter__&&e.__defineGetter__("classList",l)}}(self)),e.exports._=i});
//# sourceMappingURL=polyfill.classList.js.map
require("tfw.binding.link",function(e,n,r){function o(e,n,r,o){var t=this,a=[];return e[o].forEach(function(o,c){if(o.open){p(o.obj);e[r].forEach(function(r,s){if("string"==typeof r.name&&"string"==typeof o.name&&r.obj===o.obj&&r.name===o.name)return console.error("It is forbidden to bind a property on itself! ("+s+" -> "+c+")"),void console.info("[tfw.binding.link] args=",e);var f=p(r.obj),l=i.bind(t,r,o,n);f.on(r.name,l),a.push({pm:f,name:r.name,slot:l})})}}),a}function t(e,n){this.destroy=function(){e.forEach(function(e){e.pm.off(e.name,e.slot)}),n.forEach(function(e){e.pm.off(e.name,e.slot)})}}function i(e,n,r,o,t,i,a){if(Array.isArray(a)||(a=[]),this.dbg&&console.log("Link "+this.dbg+": ",{src:e,dst:n,id:r,value:o,propertyName:t,container:i,wave:a}),f(r,a))return void(this.dbg&&console.log("...has been BLOCKED by the wave! ",a));var c=this,s=p(e.obj),g=p(n.obj);if(o=b(o,e,n),o=u(o,n,s),o=m(o,e,n),l(o,e,n))return void(this.dbg&&console.log("...has been FILTERED!"));o=h(o,e,n),o=d(o,e,n),"number"==typeof n.delay?(this.debug&&console.log("...has been DELAYED for "+n.delay+" ms!"),clearTimeout(n._id),n._id=setTimeout(function(){c.dbg&&(console.log("Link "+c.dbg+" (after "+n.delay+" ms): ",{src:e,dst:n,id:r,value:o,propertyName:t,wave:a}),console.log("...try to change a value. ",{target:g,propertyName:n.name,value:o,wave:a})),g.change(n.name,o,a)},n.delay)):(this.debug&&console.log("...try to change a value. ",{target:g,propertyName:n.name,value:o,wave:a}),g.change(n.name,o,a))}function a(e){try{void 0===e.name&&(e.name=e.debug),"string"!=typeof e.name&&(e.name="Link#"+this.id),void 0===e&&s("Missing mandatory argument!"),void 0===e.A&&s("Missing `args.A`!"),Array.isArray(e.A)||(e.A=[e.A]),void 0===e.B&&s("Missing `args.B`!"),Array.isArray(e.B)||(e.B=[e.B]);var n;for(n=0;n<e.A.length;n++)c(e.A[n],n);for(n=0;n<e.B.length;n++)c(e.B[n],n);this.name=e.name,this.debug=e.debug}catch(n){console.error("checkArgs( "+e+" )"),s(n,"checkArgs( <args> )")}}function c(e,n){try{if(e.action){if("function"!=typeof e.action)throw"Attribute `["+n+"].action` must be a function!";if(void 0!==e.obj)throw"["+n+"].action cannot be defined in the same time of ["+n+"].obj! They are exclusive attributes.";if(void 0!==e.name)throw"["+n+"].action cannot be defined in the same time of ["+n+"].name! They are exclusive attributes.";var r={};p(r).create("<action>",{set:e.action}),e.obj=r,e.name="<action>"}else if(void 0===e.obj&&s("Missing `["+n+"].obj`!"),void 0===e.name&&(e.name="*"),!p.isLinkable(e.obj,e.name))throw"`"+e.name+"` is not a linkable attribute.\nValid linkable attributes are: "+p.getAllAttributesNames(e.obj).join(", ")+".";void 0===e.open&&(e.open=!0)}catch(r){console.error("checkpod(",e,", ",n,")"),s(r,"checkpod( <pod>, "+n+")")}}function s(e,n){throw n=void 0===n?"":"::"+n,e+"\n[tfw.binding.link"+n+"]"}function f(e,n){if(Array.isArray(n)){if(!(n.indexOf(e)<0))return!0;n.push(e)}return!1}function l(e,n,r){if("function"==typeof r.filter)try{if(!r.filter(e))return!0}catch(e){console.error(e),s("Error in filter of link "+p(n.obj)+"."+n.name+" -> "+p(r.obj)+"."+r.name+"!")}return!1}function u(e,n,r){return"string"==typeof n.switch?r.get(n.switch):Array.isArray(n.switch)?n.switch.map(function(e){return r.get(e)}):e}function m(e,n,r){if("function"==typeof r.converter)try{return r.converter(e)}catch(e){console.error(e),s("Error in converter of link "+p(n.obj)+"."+n.name+" -> "+p(r.obj)+"."+r.name+"!")}return e}function h(e,n,r){if(!r.format)return e;try{if(!Array.isArray(r.format))throw"Must be an array with two elements!";var o=r.format[0];if("function"!=typeof o)throw"First element of the array must be a function!";var t=r.format[1];if("string"!=typeof t)throw"Second element of the array must be a string!";return o(t,e)}catch(e){console.error(e),s("Error in format of link "+p(n.obj)+"."+n.name+" -> "+p(r.obj)+"."+r.name+"!\n"+e)}}function d(e,n,r){if(e&&"function"==typeof e.map&&"function"==typeof r.map)try{var o=[],t={context:{},list:e,index:0};if("function"==typeof r.header)try{o.push(r.header(e,t.context))}catch(o){console.error("[tfw.binding.link/processMap] Exception while calling a header function: ",o),console.error({value:e,src:n,dst:r,more:t})}if(e.forEach(function(i,a){t.index=a;try{o.push(r.map(i,t))}catch(c){console.error("[tfw.binding.link/processMap] Exception while calling a map function: ",c),console.error({item:i,index:a,value:e,src:n,dst:r,result:o,more:t})}}),"function"==typeof r.footer)try{o.push(r.header(e,t.context))}catch(i){console.error("[tfw.binding.link/processMap] Exception while calling a footer function: ",i),console.error({value:e,src:n,dst:r,result:o,more:t})}return o.filter(function(e){return null!=e})}catch(e){console.error(e),s("Error in map of link "+p(n.obj)+"."+n.name+" -> "+p(r.obj)+"."+r.name+"!")}return e}function b(e,n,r){if(void 0===r.value)return e;if("function"==typeof r.value)try{return r.value(n.name)}catch(e){console.error(e),s("Error in value("+n.name+") of link "+p(n.obj)+"."+n.name+" -> "+p(r.obj)+"."+r.name+"!")}return r.value}var g=function(){function n(){return o(r,arguments)}var r={en:{},fr:{}},o=e("$").intl;return n.all=r,n}(),p=e("tfw.binding.property-manager"),y=0,v=function(e){try{var n=y++;a.call(this,e);var r=o.call(this,e,n,"A","B"),i=o.call(this,e,n,"B","A");t.call(this,r,i)}catch(n){console.error("new Link( "+e+" )"),s(n,"new Link( <args> ) "+(this.name||""))}};n.exports=v,n.exports._=g});
//# sourceMappingURL=tfw.binding.link.js.map
require("sound",function(n,e,o){function i(n){}function s(n){window.speechSynthesis}var c=function(){function e(){return i(o,arguments)}var o={en:{},fr:{}},i=n("$").intl;return e.all=o,e}();o.play=i,o.speak=s,window.speechSynthesis.onvoiceschanged=function(){console.log("Voices: ",window.speechSynthesis.getVoices())},e.exports._=c});
//# sourceMappingURL=sound.js.map
require("challenge.twister",function(t,e,n){function r(t){var e=t.toUpperCase();if(console.info("[challenge.twister] key=",e)," "===e){var n=Date.now();if(n-this.lastThrow<6e3)return;this.lastThrow=n,this.tries<1&&(this.success=1),this.tries--;var r=Math.floor(48*Math.random());this.angleLeft+=1080+22.5*r;var o=Math.floor(48*Math.random());this.angleRight-=1080+22.5*o}else"ESCAPE"==e&&(this.failure=1)}function o(t){return"rotate("+t+"deg)"}function a(t){this.rotateLeft=o(t)}function i(t){this.rotateRight=o(t)}var s=function(){function e(){return r(n,arguments)}var n={fr:{rotate:"rotate($1deg)"}},r=t("$").intl;return e.all=n,e}(),l={keydown:r,onAngleLeft:a,onAngleRight:i};try{e.exports=function(){function e(t,e,n){return void 0===t[e]?n:t[e]}var n=t("dom"),r=t("tfw.binding.property-manager"),o=t("tfw.view").Tag,a=t("tfw.binding.link"),i=t("tfw.view"),s=t("tfw.binding.converters");i.ensureCodeBehind(l,"onAngleLeft","onAngleRight","keydown");var c=s.get("integer"),h=s.get("string"),g=s.get("float"),f=function(t){try{void 0===t&&(t={}),this.$elements={};var i=this,s=r(this);s.create("tries",{cast:c(0)}),s.create("rotateLeft",{cast:h}),s.create("rotateRight",{cast:h}),s.create("angleLeft",{cast:g(0)}),s.create("angleRight",{cast:g(0)}),s.create("lastThrow",{cast:g(0)}),s.createAction("success"),s.createAction("failure");var f=new o("DIV",["class"]),u=new o("DIV",["class"]),d=new o("DIV"),w=new o("DIV");n.add(d,w);var m=new o("DIV"),v=new o("DIV");n.add(m,v),n.add(u,d,m);var b=new o("DIV",["class","textcontent"]),L=new o("P",["innerhtml"]);n.add(f,u,b,L),Object.defineProperty(this,"$",{value:f.$,writable:!1,enumerable:!1,configurable:!1}),new a({A:{obj:i,name:"tries"},B:{obj:b,name:"textcontent"},name:"tries > e_5/textcontent"}),s.on("angleLeft",function(t){try{l.onAngleLeft.call(i,t)}catch(t){console.error('Exception in function behind "onAngleLeft" of module "mod/challenge.twister.js" for attribute "angleLeft"!  '),console.error(t)}}),s.on("angleRight",function(t){try{l.onAngleRight.call(i,t)}catch(t){console.error('Exception in function behind "onAngleRight" of module "mod/challenge.twister.js" for attribute "angleRight"!  '),console.error(t)}}),s.on("rotateLeft",function(t){w.$.style.transform=t}),s.on("rotateRight",function(t){v.$.style.transform=t}),f.class="challenge-twister background",u.class="disks",b.class="tries shadowFFF",L.innerhtml="Tapez sur <b>ESPACE</b> pour lancer les roues. <b>ECHAP</b> si c'est perdu.",this.tries=e(t,"tries",9),this.rotateLeft=e(t,"rotateLeft",""),this.rotateRight=e(t,"rotateRight",""),this.angleLeft=e(t,"angleLeft",11.25),this.angleRight=e(t,"angleRight",-11.25),this.lastThrow=e(t,"lastThrow",0),n.addClass(this,"view","custom")}catch(t){throw console.error("mod/challenge.twister.js",t),Error('Instantiation error in XJS of "mod/challenge.twister.js":\n'+t)}};return f.prototype.keydown=l.keydown,f}()}catch(t){throw Error('Definition error in XJS of "mod/challenge.twister.js"\n'+t)}e.exports._=s});
//# sourceMappingURL=challenge.twister.js.map
require("challenge.paper",function(e,t,n){function s(e){var t=this;console.info("[challenge.paper] key=",e);var n=Date.now();if(!(n-this.lastThrow<5e3))switch(e.toUpperCase()){case"ARROWRIGHT":this.scoreRight++,this.scoreRight>4&&window.setTimeout(function(){t.failure=1},500);break;case"ARROWLEFT":this.scoreLeft++,this.scoreLeft>4&&window.setTimeout(function(){t.success=1},500);break;case" ":r.call(this),this.lastThrow=n}}function a(e){this.rotate="rotate("+e+"deg)"}function r(){this.angle+=180+45*Math.floor(8*Math.random())}var o=function(){function t(){return s(n,arguments)}var n={en:{},fr:{}},s=e("$").intl;return t.all=n,t}(),c={keydown:s,onAngleChanged:a};try{t.exports=function(){function t(e,t,n){return void 0===e[t]?n:e[t]}var n=e("dom"),s=e("tfw.binding.property-manager"),a=e("tfw.view").Tag,r=e("tfw.binding.link"),o=e("tfw.view"),i=e("tfw.binding.converters");o.ensureCodeBehind(c,"onAngleChanged","keydown");var l=i.get("integer"),h=i.get("float"),w=i.get("string"),g=function(e){try{void 0===e&&(e={}),this.$elements={};var o=this,i=s(this);i.create("scoreLeft",{cast:l(0)}),i.create("scoreRight",{cast:l(0)}),i.create("angle",{cast:h(0)}),i.create("rotate",{cast:w}),i.create("lastThrow",{cast:h(0)}),i.createAction("success"),i.createAction("failure");var g=new a("DIV",["class"]),d=new a("DIV",["class"]),f=new a("DIV",["class","textcontent"]),u=new a("DIV",["class"]),p=new a("DIV"),b=new a("DIV",["class"]),m=new a("DIV",["class"]),v=new a("DIV",["class"]),D=new a("DIV",["class"]),I=new a("DIV",["class"]),V=new a("DIV",["class"]),y=new a("DIV",["class"]),A=new a("DIV",["class"]);n.add(p,b,m,v,D,I,V,y,A),n.add(u,p);var R=new a("DIV",["class","textcontent"]);n.add(d,f,u,R);var T=new a("P",["innerhtml"]);n.add(g,d,T),Object.defineProperty(this,"$",{value:g.$,writable:!1,enumerable:!1,configurable:!1}),new r({A:{obj:o,name:"scoreLeft"},B:{obj:f,name:"textcontent"},name:"score-left > e_1/textcontent"}),new r({A:{obj:o,name:"scoreRight"},B:{obj:R,name:"textcontent"},name:"score-right > e_C/textcontent"}),i.on("angle",function(e){try{c.onAngleChanged.call(o,e)}catch(e){console.error('Exception in function behind "onAngleChanged" of module "mod/challenge.paper.js" for attribute "angle"!  '),console.error(e)}}),i.on("rotate",function(e){p.$.style.transform=e}),g.class="challenge-paper background",d.class="row",f.class="shadowFFF",u.class="wheel thm-ele12",b.class="stone",m.class="paper",v.class="scissors",D.class="well",I.class="stone2",V.class="paper2",y.class="scissors2",A.class="well2",R.class="shadowFFF",T.innerhtml="Tapez sur <b>ESPACE</b> pour lancer le pierre/feuille/ciseaux/puit.<br/><b>GAUCHE</b> (vous) et <b>DROITE</b> (dragon) pour attribuer les points.<br/>La partie se joue en <b>5</b> points.",this.scoreLeft=t(e,"scoreLeft",0),this.scoreRight=t(e,"scoreRight",0),this.angle=t(e,"angle",0),this.rotate=t(e,"rotate","rotate(0deg)"),this.lastThrow=t(e,"lastThrow",0),n.addClass(this,"view","custom")}catch(e){throw console.error("mod/challenge.paper.js",e),Error('Instantiation error in XJS of "mod/challenge.paper.js":\n'+e)}};return g.prototype.keydown=c.keydown,g}()}catch(e){throw Error('Definition error in XJS of "mod/challenge.paper.js"\n'+e)}t.exports._=o});
//# sourceMappingURL=challenge.paper.js.map
require("challenge.main",function(e,n,r){function t(){window.setInterval(i.bind(this),500)}function a(e){var n=e.toUpperCase();switch(console.info("[challenge.main] key=",n),n){case"A":this.challenge="anagram";break;case"B":this.challenge="twister";break;case"1":case"2":case"3":case"4":case"5":if(this.die>0)return;this.bounce=!1,this.die=n;break;case"6":this.challenge=this.challenges[this.cursor]}}function s(e){return h.div("challenge","thm-ele12",e)}function i(){if(!(this.die<1)){this.die--;var e=0;e=this.forward?this.bounce?-1:1:this.bounce?1:-1;var n=this.cursor+e;if((n<0||n>=this.challenges.length)&&(this.bounce=!0,n=this.cursor-e),this.cursor=n,0===this.die){var r=this;window.setTimeout(function(){r.challenge=r.challenges[n]},500)}}}function c(e){h.css(this.$elements.strip,{transform:"translateX("+(30-15*e)+"vw)"})}var o=function(){function n(){return t(r,arguments)}var r={en:{},fr:{}},t=e("$").intl;return n.all=r,n}(),l={init:t,keydown:a,onCursorChanged:c,mapChallenges:s},h=e("dom");try{n.exports=function(){function n(e,n,r){return void 0===e[n]?r:e[n]}var r=e("dom"),t=e("tfw.binding.property-manager"),a=e("tfw.view").Tag,s=e("tfw.binding.link"),i=e("tfw.view"),c=e("tfw.binding.converters");i.ensureCodeBehind(l,"onCursorChanged","keydown","init","mapChallenges");var o=c.get("array"),h=c.get("integer"),u=c.get("boolean"),d=function(e){try{void 0===e&&(e={}),this.$elements={};var i=this,c=t(this);c.create("challenges",{cast:o}),c.createAction("challenge"),c.create("cursor",{cast:h(0)}),c.create("die",{cast:h(0)}),c.create("forward",{cast:u}),c.create("bounce",{cast:u});var d=new a("DIV",["class"]),f=new a("DIV",["class"]),g=new a("DIV",["class"]);this.$elements.strip=g;var w=new a("DIV",["class"]);r.add(f,g,w);var m=new a("DIV",["class","innerhtml"]);r.add(d,f,m),Object.defineProperty(this,"$",{value:d.$,writable:!1,enumerable:!1,configurable:!1}),new s({A:{obj:i,name:"challenges"},B:{action:function(e){r.clear(g),Array.isArray(e)||(e=[e]),e.forEach(function(e){r.add(g,e)})},map:function(){return l.mapChallenges.apply(i,arguments)}},name:"challenges > undefined"}),c.on("cursor",function(e){try{l.onCursorChanged.call(i,e)}catch(e){console.error('Exception in function behind "onCursorChanged" of module "mod/challenge.main.js" for attribute "cursor"!  '),console.error(e)}}),d.class="challenge-main",f.class="strip-container",g.class="strip",w.class="cursor",m.class="shadowFFF",m.innerhtml="Lancez un dé à 6 faces et tapez le chiffre obtenu.",this.challenges=n(e,"challenges",["paper","anagram","twister","paper","anagram","twister","victory"]),this.cursor=n(e,"cursor",0),this.die=n(e,"die",0),this.forward=n(e,"forward",!0),this.bounce=n(e,"bounce",!1),l.init.call(this),r.addClass(this,"view","custom")}catch(e){throw console.error("mod/challenge.main.js",e),Error('Instantiation error in XJS of "mod/challenge.main.js":\n'+e)}};return d.prototype.keydown=l.keydown,d}()}catch(e){throw Error('Definition error in XJS of "mod/challenge.main.js"\n'+e)}n.exports._=o});
//# sourceMappingURL=challenge.main.js.map
require("font.josefin",function(n,r,t){var e=function(){function r(){return e(t,arguments)}var t={en:{},fr:{}},e=n("$").intl;return r.all=t,r}();r.exports._=e});
//# sourceMappingURL=font.josefin.js.map
